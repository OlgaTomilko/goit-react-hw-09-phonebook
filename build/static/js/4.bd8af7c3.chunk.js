(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[4],{116:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var c=n(86),r=n(0),a=n(7),o=n(26),i=function(e){return e.contacts.items},u=function(e){return e.contacts.filter},s={getContacts:i,getFilter:u,getLoading:function(e){return e.contacts.loading},getVisibleContacts:Object(o.a)([i,u],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}))},l=n(16),b=n.n(l),j=n(23),d=n(18),f=n.n(d),h=n(10),O=function(e){var t=e.name,n=e.number;return function(e){var c={name:t,number:n};e(h.b()),f.a.post("/contacts",c).then((function(t){var n=t.data;return e(h.c(n))})).catch((function(t){return e(h.a(t.message))}))}},m=function(e){return function(t){t(h.e()),f.a.delete("/contacts/".concat(e)).then((function(){return t(h.f(e))})).catch((function(e){return t(h.d(e.message))}))}},v=function(){return function(){var e=Object(j.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h.h()),e.prev=1,e.next=4,f.a.get("/contacts");case 4:n=e.sent,c=n.data,t(h.i(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(h.g(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},p=n(4),x=n(114),g=n(93);var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(x.a)(e,Object(p.a)({defaultTheme:g.a},t))},y=n(115),w=n(1),k=C({form:{width:275,height:150,display:"flex",flexDirection:"column",justifyContent:"space-around"}});function L(){var e=k(),t=Object(a.b)(),n=Object(a.c)(s.getContacts),o=Object(r.useState)(""),i=Object(c.a)(o,2),u=i[0],l=i[1],b=Object(r.useState)(""),j=Object(c.a)(b,2),d=j[0],f=j[1],h=function(e){var t=e.target,n=t.id,c=t.value;"name"===n?l(c):f(c)};return Object(w.jsxs)("form",{className:e.form,onSubmit:function(e){(e.preventDefault(),""!==u&&""!==d)?(n.map((function(e){return e.name})).includes(u)?alert("".concat(u," is already in contacts!")):t(O({name:u,number:d})),f(""),l("")):alert("Complite the form!")},children:[Object(w.jsx)("label",{children:"Name"}),Object(w.jsx)("input",{type:"text",onChange:h,id:"name",value:u}),Object(w.jsx)("label",{children:"Number"}),Object(w.jsx)("input",{type:"text",onChange:h,id:"number",value:d}),Object(w.jsx)(y.a,{variant:"contained",color:"primary",size:"small",type:"submit",children:"Add contact"})]})}function E(){var e=Object(a.b)(),t=Object(r.useCallback)((function(t){e(Object(h.j)(t.target.value))}),[e]);return Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"Find contacts by name"}),Object(w.jsx)("input",{type:"text",onChange:t,id:"find"})]})}function N(e){var t=e.onClose,n=Object(a.b)(),c=Object(a.c)(s.getVisibleContacts),o=Object(a.c)(s.getLoading);Object(r.useEffect)((function(){return n(v())}),[n]);var i=function(e){var c;c=e.currentTarget.id,n(m(c)),t()};return Object(w.jsxs)(w.Fragment,{children:[o&&Object(w.jsx)("p",{children:"Loading..."}),Object(w.jsx)("ul",{children:c.map((function(e){var t=e.id,n=e.name,c=e.number;return Object(w.jsxs)("li",{children:[n,": ",c,Object(w.jsx)(y.a,{color:"secondary",type:"button",id:t,onClick:i,children:"Delete"})]},t)}))})]})}var S=n(24),_=(n(96),document.querySelector("#modal-root")),D=function(e){var t=e.onClose,n=e.children;Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(S.createPortal)(Object(w.jsx)("div",{className:"Modal__backdrop",onClick:function(e){e.target===e.currentTarget&&t()},children:Object(w.jsx)("div",{className:"Modal__content",children:n})}),_)};function F(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],o=function(){a(!n)};return Object(w.jsxs)("div",{children:[n&&Object(w.jsxs)(D,{onClose:o,children:[Object(w.jsx)("h1",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0434\u0430\u043b\u0435\u043d"}),Object(w.jsx)(y.a,{variant:"contained",color:"primary",size:"small",type:"button",onClick:o,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]}),Object(w.jsx)("h1",{children:"Phonebook"}),Object(w.jsx)(L,{}),Object(w.jsx)("h2",{children:"Contacts"}),Object(w.jsx)(E,{}),Object(w.jsx)(N,{onClose:o})]})}},96:function(e,t,n){}}]);
//# sourceMappingURL=4.bd8af7c3.chunk.js.map